jQuery(function(a){a(".colorpick").wpColorPicker(),a(".tips, .help_tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200});var b={init:function(){a("a.erp-image-upload").on("click",this.imageUpload),a("a.erp-remove-image").on("click",this.removeBanner)},imageUpload:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),c.on("select",function(){var b=c.state().get("selection").first().toJSON();console.log(b);var e=d.closest("td");console.log(e,d),e.find("input.erp-file-field").val(b.id),"undefined"!=typeof b.sizes.thumbnail?e.find("img.erp-option-image").attr("src",b.sizes.thumbnail.url):e.find("img.erp-option-image").attr("src",b.url),a(".image-wrap",e).removeClass("erp-hide"),a(".button-area",e).addClass("erp-hide")}),void c.open())},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.erp-file-field").val("0"),d.addClass("erp-hide"),e.removeClass("erp-hide")}};b.init()});