@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Onboarding Styles with  prefix - Converted from setup.css */
@layer components {
    /* Container */
    .onboarding-container {
        @apply min-h-screen;
        background-color: #f9f9f9;
    }

    /* Card - matches erp-card from setup.css */
    .onboarding-card {
        @apply bg-white rounded-2xl border p-12 transition-all duration-200;
        border-color: #cbd5e1;
    }

    /* Primary Button - matches erp-btn-continue */
    .btn-primary {
        @apply inline-flex items-center gap-2 px-8 py-3 font-semibold text-white rounded-md transition-all duration-200 hover:shadow-lg focus:outline-none focus:ring-2 cursor-pointer;
        font-size: 15px;
        background: #3b82f6 !important;
        border: none !important;
        box-shadow: 0px 1px 2px 0px #0000000d;
    }

    .btn-primary::after {
        content: "â†’";
        font-size: 18px;
    }

    .btn-primary:hover {
        background: #2563eb !important;
        transform: translateY(-1px);
    }

    .btn-primary:active {
        background: #1d4ed8 !important;
        transform: translateY(0);
    }

    /* Secondary Button - matches erp-btn-cancel */
    .btn-secondary {
        @apply px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md transition-all duration-200 hover:bg-gray-50 hover:border-gray-400 cursor-pointer;
    }

    /* Input Fields - matches form inputs from setup.css */
    .input {
        @apply w-full px-4 py-3 bg-white rounded-md transition-all duration-200 focus:outline-none focus:border-blue-500 focus:ring-2;
        font-size: 15px;
        color: #323232;
        border: 1px solid #cbd5e1 !important;
        box-shadow: 0px 1px 2px 0px #0000000d;
    }

    .input::placeholder {
        @apply text-gray-400;
    }

    /* Date Input - Custom calendar icon */
    .input[type="date"] {
        @apply relative;
        background-image: url("data:image/svg+xml,%3Csvg width='17' height='18' viewBox='0 0 17 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.04199 1.69922V3.57422M12.792 1.69922V3.57422M0.916992 14.8242V5.44922C0.916992 4.41368 1.75646 3.57422 2.79199 3.57422H14.042C15.0775 3.57422 15.917 4.41368 15.917 5.44922V14.8242M0.916992 14.8242C0.916992 15.8598 1.75646 16.6992 2.79199 16.6992H14.042C15.0775 16.6992 15.917 15.8598 15.917 14.8242M0.916992 14.8242V8.57422C0.916992 7.53868 1.75646 6.69922 2.79199 6.69922H14.042C15.0775 6.69922 15.917 7.53868 15.917 8.57422V14.8242M8.41699 9.82422H8.42324V9.83047H8.41699V9.82422ZM8.41699 11.6992H8.42324V11.7055H8.41699V11.6992ZM8.41699 13.5742H8.42324V13.5805H8.41699V13.5742ZM6.54199 11.6992H6.54824V11.7055H6.54199V11.6992ZM6.54199 13.5742H6.54824V13.5805H6.54199V13.5742ZM4.66699 11.6992H4.67324V11.7055H4.66699V11.6992ZM4.66699 13.5742H4.67324V13.5805H4.66699V13.5742ZM10.292 9.82422H10.2982V9.83047H10.292V9.82422ZM10.292 11.6992H10.2982V11.7055H10.292V11.6992ZM10.292 13.5742H10.2982V13.5805H10.292V13.5742ZM12.167 9.82422H12.1732V9.83047H12.167V9.82422ZM12.167 11.6992H12.1732V11.7055H12.167V11.6992Z' stroke='%236B7280' strokeWidth='1.5' strokeLinecap='round' strokeLinejoin='round'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 12px center;
        background-size: 17px 18px;
        padding-right: 40px;
    }

    /* Hide default calendar icon in webkit browsers */
    .input[type="date"]::-webkit-calendar-picker-indicator {
        @apply opacity-0 cursor-pointer;
        position: absolute;
        right: 12px;
        width: 17px;
        height: 18px;
    }

    /* Label - matches setup.css form labels */
    .label {
        @apply block text-sm font-medium mb-2;
        color: #334155;
    }

    /* Progress Bar - matches erp-progress-bar */
    .progress-bar {
        @apply h-0.5 transition-all duration-300;
        background-color: #cbd5e1;
    }

    .progress-bar-active {
        @apply bg-blue-500;
    }

    /* Select Dropdown - matches setup.css select styling */
    .select {
        @apply w-full px-4 py-3 pr-10 bg-white rounded-md shadow-sm appearance-none cursor-pointer transition-all duration-200 focus:outline-none focus:border-blue-500 focus:ring-2 hover:border-gray-400;
        font-size: 15px;
        color: #374151;
        border: 1px solid #cbd5e1 !important;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236B7280' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 12px center;
    }

    .select:focus {
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    /* Card Selection - matches erp-card from setup.css */
    .selection-card {
        @apply flex-1 bg-white text-center cursor-pointer transition-all duration-200 relative;
        width: 223px;
        height: 160px;
        border-radius: 16px;
        border: 1px solid #cbd5e1 !important;
        opacity: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    }

    .selection-card:hover {
        border: 2px solid #3b82f6 !important;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
            0 2px 4px -1px rgba(0, 0, 0, 0.06);
        transform: translateY(-2px);
    }

    .selection-card.selected {
        border: 2px solid #3b82f6 !important;
        background: #ffffff !important;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
            0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    /* CSV Upload Box - matches erp-csv-upload-wrapper */
    .csv-upload-wrapper {
        @apply p-10 bg-white rounded-xl;
        border: 1.5px solid #cbd5e1 !important;
    }

    /* Toggle/Switch - matches switch styles from setup.css */
    .switch {
        @apply relative inline-flex w-9 h-4 flex-shrink-0 cursor-pointer rounded-lg border-2 border-transparent transition-colors duration-300 ease-in-out;
    }

    .switch-handle {
        @apply absolute w-5 h-5 bg-white border rounded-full transition-all duration-300 ease-in-out z-10;
        top: -2px;
        border-color: #cbd5e1;
    }

    .switch:not(.active) {
        background-color: #cbd5e1;
    }

    .switch.active {
        @apply bg-blue-500;
    }

    .switch:not(.active) .switch-handle {
        left: -2px;
    }

    .switch.active .switch-handle {
        @apply left-4;
    }

    /* Tags - matches erp-tag from setup.css */
    .tag {
        @apply inline-flex items-center px-3 py-2.5 bg-blue-50 rounded-md text-sm text-blue-700 relative;
        gap: 6px;
    }

    .tag-text {
        @apply font-medium;
    }

    .tag-remove {
        @apply hidden w-4 h-4 p-0 bg-transparent border-0 text-blue-700 cursor-pointer items-center justify-center transition-colors hover:text-blue-800;
    }

    .tag:hover .tag-remove {
        @apply flex;
    }

    /* Multiselect Container */
    .multiselect-container {
        @apply w-full;
    }

    /* Modal Styles */
    .modal {
        @apply fixed top-0 left-0 w-full h-full flex items-center justify-center;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 999999;
    }

    .modal-content {
        @apply bg-white rounded-xl flex flex-col shadow-2xl;
        width: 90%;
        max-width: 700px;
        max-height: 90vh;
    }

    .modal-header {
        @apply p-8 border-b border-gray-200 flex items-center justify-center relative;
    }

    .modal-close {
        @apply absolute right-8 bg-transparent border-0 text-2xl text-gray-400 cursor-pointer p-0 w-8 h-8 flex items-center justify-center rounded transition-all hover:bg-gray-100 hover:text-gray-900;
        top: 50%;
        transform: translateY(-50%);
    }

    /* Loading Spinner */
    .loading-spinner {
        @apply inline-block border-2 border-white rounded-full animate-spin mr-2 align-middle;
        width: 14px;
        height: 14px;
        border-top-color: transparent;
    }

    /* ERP Modal Styles */
    .erp-modal {
        @apply fixed inset-0 z-50 flex items-center justify-center;
    }

    .erp-modal-overlay {
        @apply absolute inset-0 bg-black bg-opacity-50;
    }

    .erp-modal-content {
        @apply relative bg-white shadow-2xl;
        width: 640px;
        height: 681px;
        border-radius: 16px;
        border: 1px solid #e5e7eb;
        overflow: hidden;
        display: flex;
        flex-direction: column;
    }

    .erp-modal-header {
        @apply flex items-center justify-between px-6 py-4 border-b border-gray-200;
    }

    .erp-modal-close {
        @apply text-gray-400 hover:text-gray-600 text-3xl font-light cursor-pointer bg-transparent border-0 transition-colors;
        line-height: 1;
    }

    .erp-modal-body {
        @apply flex-1 overflow-y-auto;
        padding: 0;
    }

    .erp-modal-tabs {
        @apply flex border-b border-gray-200 mb-6;
        background-color: #f9fafb;
        padding: 0 24px;
    }

    .erp-tab {
        @apply px-6 py-3 text-sm font-medium text-gray-600 border-b-2 border-transparent cursor-pointer transition-colors;
        background-color: transparent;
    }

    .erp-tab.active {
        @apply text-gray-900 border-blue-600;
        font-weight: 600;
        background-color: #ffffff;
    }

    .erp-column-count {
        @apply text-gray-500 text-xs ml-1;
        font-weight: 400;
    }

    .erp-tab-content {
        @apply px-8 py-6;
    }

    .erp-mapping-table {
        @apply w-full;
        border-collapse: collapse;
    }

    .erp-mapping-table thead {
        @apply hidden;
    }

    .erp-mapping-table tbody tr {
        @apply border-0;
    }

    .erp-mapping-table tbody td {
        @apply border-0;
        padding: 0;
        vertical-align: middle;
        padding-bottom: 24px;
    }

    .erp-mapping-table tbody td:first-child {
        @apply text-sm font-medium;
        color: #1f2937;
        width: auto;
        white-space: nowrap;
        padding-right: 48px;
    }

    .erp-mapping-table tbody td:last-child {
        width: 354px;
    }

    .erp-mapping-table tbody tr:last-child td {
        padding-bottom: 0;
    }

    .erp-field-select {
        width: 354px;
        height: 42px;
        padding: 8px 40px 8px 12px;
        border: 1px solid #d1d5db !important;
        border-radius: 6px;
        font-size: 14px;
        color: #374151;
        background-color: #ffffff;
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg width='10' height='7' viewBox='0 0 10 7' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0.292893 1.08977C0.683416 0.699244 1.31658 0.699244 1.7071 1.08977L4.99999 4.38266L8.29288 1.08977C8.6834 0.699244 9.31657 0.699244 9.70709 1.08977C10.0976 1.48029 10.0976 2.11346 9.70709 2.50398L5.7071 6.50398C5.31657 6.89451 4.68341 6.89451 4.29289 6.50398L0.292893 2.50398C-0.0976309 2.11346 -0.0976309 1.48029 0.292893 1.08977Z' fill='%236B7280'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 16px center;
        transition: all 0.2s;
    }

    .erp-field-select:focus {
        outline: none;
        border-color: #3b82f6 !important;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .erp-field-select:hover {
        border-color: #9ca3af !important;
    }

    .erp-modal-footer {
        @apply flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200;
        background-color: #ffffff;
    }

    .erp-btn-cancel {
        padding: 10px 20px;
        font-size: 14px;
        font-weight: 500;
        color: #374151;
        background-color: #ffffff;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s;
    }

    .erp-btn-cancel:hover {
        background-color: #f9fafb;
        border-color: #9ca3af;
    }

    .erp-btn-import {
        @apply inline-flex items-center gap-2 px-8 py-3 font-semibold text-white rounded-md transition-all duration-200 cursor-pointer;
        font-size: 15px;
        background: #3B82F6 !important;
        border: none !important;
        box-shadow: 0px 1px 2px 0px #0000000D;
    }

    .erp-btn-import:hover {
        background: #2563EB !important;
        transform: translateY(-1px);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    .erp-btn-import:active {
        background: #1D4ED8 !important;
        transform: translateY(0);
    }

    .erp-btn-import:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none !important;
    }

    .erp-loading-spinner {
        @apply inline-block w-4 h-4 border-2 border-white rounded-full animate-spin;
        border-top-color: transparent;
    }

    .erp-btn-continue-setup {
        @apply px-6 py-3 text-base font-semibold text-white bg-blue-600 border-0 rounded-md hover:bg-blue-700 transition-colors cursor-pointer;
    }

    /* Import Success Styles */
    .erp-import-success {
        @apply text-center py-8;
    }

    .erp-success-icon {
        @apply flex items-center justify-center mb-6;
    }

    .erp-import-success h3 {
        @apply text-xl font-semibold text-gray-900 mb-2;
    }

    .erp-import-success p {
        @apply text-gray-600;
    }

    /* Leave Management & Workday Setup Styles */
    .erp-toggle-section {
        background: #E0F2FE;
        border-radius: 8px;
        padding: 32px;
        margin-top: 32px;
        margin-bottom: 24px;
    }

    .erp-toggle-container {
        @apply flex items-center gap-4;
    }

    .erp-toggle-container > div:first-child {
        @apply flex-shrink-0 flex items-center justify-center;
    }

    .switch-input {
        @apply absolute opacity-0;
    }

    .switch-label {
        @apply inline-flex items-center justify-center cursor-pointer select-none;
    }

    .switch-track {
        position: relative;
        width: 36px;
        height: 16px;
        top: 2px;
        border-radius: 8px;
        transition: background-color 0.3s;
    }

    .switch-handle {
        position: absolute;
        top: -2px;
        width: 20px;
        height: 20px;
        background: #FFFFFF;
        border: 1px solid #CBD5E1;
        border-radius: 50%;
        transition: left 0.3s ease;
        z-index: 10;
    }

    .toggle-description {
        @apply flex-1;
        color: #64748B;
        font-size: 14px;
        line-height: 20px;
    }

    .switch-input:checked + .switch-label .switch-track {
        background: #3B82F6;
    }

    .switch-input:not(:checked) + .switch-label .switch-track {
        background: #CBD5E1;
    }

    .switch-input:checked + .switch-label .switch-handle {
        left: 16px;
    }

    .switch-input:not(:checked) + .switch-label .switch-handle {
        left: -2px;
    }

    /* Workday Row Styles */
    .erp-workday-row {
        @apply flex items-center justify-between;
        margin-bottom: 16px;
        padding: 12px 0;
    }

    .erp-day-label {
        font-weight: 500;
        min-width: 100px;
    }

    .erp-day-options {
        @apply flex gap-2;
    }

    .erp-day-option {
        @apply inline-block;
    }

    .workday-radio {
        @apply hidden;
    }

    .erp-option-btn {
        @apply inline-block cursor-pointer transition-all duration-200;
        padding: 8px 16px;
        border-radius: 6px;
        border: 1px solid #CBD5E1;
    }

    .erp-option-btn.selected {
        background: #3B82F6;
        color: #FFFFFF;
    }

    .erp-option-btn:not(.selected) {
        background: #FFFFFF;
        color: #000000;
    }

    /* Form Row */
    .erp-form-row {
        @apply grid gap-5;
        grid-template-columns: 1fr 1fr;
    }

    /* Screen Reader Only - Hide elements visually but keep accessible */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
    }
}

/* Reset styles to prevent WordPress admin conflicts */
.setup-root * {
    box-sizing: border-box;
}

.setup-root {
    font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
        "Helvetica Neue", Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Animations */
@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

@keyframes celebrate {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
